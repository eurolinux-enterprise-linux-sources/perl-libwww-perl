From 815b22e091edd02efae3ef84012f7c0e5532707b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Petr=20P=C3=ADsa=C5=99?= <ppisar@redhat.com>
Date: Thu, 13 Oct 2011 13:23:29 +0200
Subject: [PATCH] Disable ssl_verify by default
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

This is to preserve pre-LWP-6 behaviour.

Ported to 5.833.

Signed-off-by: Petr Písař <ppisar@redhat.com>
---
 lib/LWP/UserAgent.pm | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/lib/LWP/UserAgent.pm b/lib/LWP/UserAgent.pm
index 93624d0..a884164 100644
--- a/lib/LWP/UserAgent.pm
+++ b/lib/LWP/UserAgent.pm
@@ -53,7 +53,7 @@ sub new
             $ssl_opts->{SSL_verify_mode} = 1;
         }
         else {
-            $ssl_opts->{verify_hostname} = 1;
+            $ssl_opts->{verify_hostname} = 0;
         }
     }
     unless (exists $ssl_opts->{SSL_ca_file}) {
@@ -1346,7 +1346,7 @@ The no checks behaviour was the default for libwww-perl-5.837 and earlier releas
 
 This option is initialized from the L<PERL_LWP_SSL_VERIFY_HOSTNAME> environment
 variable.  If this envirionment variable isn't set; then C<verify_hostname>
-defaults to 1.
+defaults to 0.
 
 =item C<SSL_ca_file> => $path
 
-- 
2.5.0

